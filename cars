using System;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace Common.EntityFramework.Entities
{
    [Table("ICMP_RULE")]
    public class IcmpRuleEntity
    {
        [Key]
        [Column("RULE_ID")]
        public int RuleId { get; set; }

        [Required]
        [Column("DEPARTMENT_CODE")]
        public string DepartmentCode { get; set; } = string.Empty;

        // DOCUMENT / RELATIONSHIP
        [Required]
        [Column("TARGET_TYPE")]
        public string TargetType { get; set; } = string.Empty;

        // EMP_ENTY, DEAL (nullable for document rules)
        [Column("TARGET_OBJECT_TYPE")]
        public string? TargetObjectType { get; set; }

        [Required]
        [Column("PROPERTY_KEY")]
        public string PropertyKey { get; set; } = string.Empty;

        // FIELD / STATIC
        [Required]
        [Column("SOURCE_TYPE")]
        public string SourceType { get; set; } = "FIELD";

        [Required]
        [Column("SOURCE_VALUE")]
        public string SourceValue { get; set; } = string.Empty;

        // JSON string of RuleCondition list
        [Column("CONDITIONS_JSON")]
        public string? ConditionsJson { get; set; }

        [Column("SORT_ORDER")]
        public int SortOrder { get; set; }

        [Column("IS_ACTIVE")]
        public bool IsActive { get; set; } = true;

        [Column("CREATED_BY")]
        public string CreatedBy { get; set; } = "SYSTEM";

        [Column("CREATED_ON")]
        public DateTime CreatedOn { get; set; } = DateTime.UtcNow;
    }
}


using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace Common.EntityFramework.Entities
{
    [Table("DEPARTMENT")]
    public class DepartmentEntity
    {
        [Key]
        [Column("DEPARTMENT_CODE")]
        public string DepartmentCode { get; set; } = string.Empty;

        [Column("IS_ACTIVE")]
        public bool IsActive { get; set; } = true;

        [Column("DESCRIPTION")]
        public string? Description { get; set; }
    }
}


public DbSet<IcmpRuleEntity> IcmpRules { get; set; }
public DbSet<DepartmentEntity> Departments { get; set; }


